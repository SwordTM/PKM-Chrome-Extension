<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Tailwind: compiled locally to tailwind.css -->
    <link rel="stylesheet" href="tailwind.css" />
    <title>Personal Idea Space</title>
  </head>
  <body class="bg-white text-gray-900 min-w-[380px] overflow-hidden flex flex-col">
    <header class="px-3 py-2 border-b border-gray-200 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <span class="inline-flex h-7 w-7 items-center justify-center rounded-lg bg-indigo-600 text-white text-sm font-bold">AI</span>
        <h1 class="text-base font-semibold">Your Inbox</h1>
      </div>
      <span id="countBadge" class="text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600">0 items</span>
    </header>

    <section class="px-3 mt-4 grid grid-cols-2 gap-2">
      <!-- Generic -->
      <button id="capturePage" class="btn-gradient btn-blue">Capture Page Extract</button>

      <!-- YouTube (auto-toggles visibility) -->
      <button id="ytBookmark" class="btn-gradient btn-blue hidden">YT: Bookmark @ Now</button>
      <button id="ytCaptionNow" class="btn-gradient btn-blue hidden">YT: Caption Â±20s</button>
      <button id="ytTranscribe" class="btn-gradient btn-blue hidden">YT: Transcribe 30s</button>

      <!-- Existing -->
      <button id="exportJson" class="btn-gradient btn-green">Export JSON</button>
      <button id="sendToLLM" class="btn-gradient btn-purple">Send to LLM</button>
      <button id="clearAll" class="btn-gradient btn-red">Clear All</button>
    </section>

    <section id="empty" class="text-sm text-gray-500 px-3">No snippets yet. Select text, then rightâ€‘click â†’ <span class="italic">Save selection to LLM Inbox</span>.</section>

    <ul id="list" class="divide-y divide-gray-100 max-h-[520px] overflow-y-auto flex-1 p-4 space-y-3"></ul>

    <template id="itemTpl">
      <li class="snippet-card">
        <div class="snippet-head flex items-start justify-between gap-3">
          <div class="min-w-0 flex-1">
            <a class="title snippet-title font-semibold text-gray-900 hover:underline block truncate" target="_blank"></a>
            <div class="createdAt snippet-meta text-xs text-gray-500 mt-0.5"></div>
          </div>
          <div class="shrink-0 flex items-center gap-2">
            <button class="save btn-ghost-sm">
              <!-- âœ“ --> <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor"><path d="M16.7 5.3a1 1 0 0 1 0 1.4l-7.6 7.6a1 1 0 0 1-1.4 0L3.3 9.9a1 1 0 1 1 1.4-1.4l3.2 3.2 6.9-6.9a1 1 0 0 1 1.4 0Z"/></svg>
              Save
            </button>
            <button class="delete btn-danger-sm">
              <!-- ðŸ—‘ --> <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor"><path d="M6 7h2v9H6V7Zm6 0h-2v9h2V7ZM4 5h12v2H4V5Zm2-2h8v2H6V3Zm1 16a2 2 0 0 1-2-2V7h10v10a2 2 0 0 1-2 2H7Z"/></svg>
              Delete
            </button>
          </div>
        </div>

        <!-- Beautiful text block with collapse -->
        <div class="mt-3">
          <div class="text snippet-body collapsed"></div>
          <button class="toggle btn-ghost-sm mt-2">Expand</button>
        </div>

        <!-- Tags row -->
        <div class="mt-3 grid grid-cols-[1fr_auto] gap-2">
          <input class="tags tags-input" placeholder="#research, #quote" />
          <button class="autotag btn-ghost-sm" title="Auto-generate tags">
            <!-- âœ¨ --> <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor"><path d="M10 2l1.6 3.9 4.2.3-3.2 2.6 1 4-3.6-2.2L6.4 13l1-4L4.2 6.2l4.2-.3L10 2Z"/></svg>
            Auto
          </button>
        </div>

        <!-- Note -->
        <textarea class="note note-input mt-2" rows="2" placeholder="Why this matters"></textarea>
      </li>
    </template>

    <script type="module" src="popup.js"></script> 
  </body>
</html>